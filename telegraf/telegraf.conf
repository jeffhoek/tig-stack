[agent]
  interval = "30s"
  round_interval = true
  flush_interval = "10s"

###############################################################################
#                            OUTPUT PLUGINS                                   #
###############################################################################

[[outputs.influxdb_v2]]
  urls = ["${INFLUXDB_URL}"]
  token = "${INFLUXDB_TOKEN}"
  organization = "${INFLUXDB_ORG}"
  bucket = "${INFLUXDB_BUCKET}"

###############################################################################
#                            INPUT PLUGINS                                    #
###############################################################################

[[inputs.jenkins]]
  url = "${JENKINS_URL}"
  ## No authentication â€” setup wizard is disabled
  # username = ""
  # password = ""

  ## Collect all job and node metrics
  max_build_age = "1h"
  max_connections = 5
  response_timeout = "10s"

[[inputs.statsd]]
  protocol = "udp"
  max_tcp_connections = 250
  tcp_keep_alive = false
  service_address = ":8125"
  delete_gauges = true
  delete_counters = true
  delete_sets = true
  delete_timings = true
  percentiles = [50.0, 90.0, 99.0, 99.9, 99.95, 100.0]
  metric_separator = "_"
  allowed_pending_messages = 10000
  percentile_limit = 1000
